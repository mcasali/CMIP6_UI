/* @license @asymmetrik/ngx-leaflet-draw - 7.0.0 - Copyright Asymmetrik, Ltd. 2007-2020 - All Rights Reserved. + */
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports,require("@angular/core"),require("@asymmetrik/ngx-leaflet"),require("leaflet"),require("leaflet-draw")):typeof define==="function"&&define.amd?define(["exports","@angular/core","@asymmetrik/ngx-leaflet","leaflet","leaflet-draw"],factory):(global=typeof globalThis!=="undefined"?globalThis:global||self,factory(global.ngxLeafletDraw={},global.ng.core,global.ngxLeaflet,global.L))})(this,function(exports,core,ngxLeaflet,leaflet){"use strict";var LeafletDrawUtil=function(){function LeafletDrawUtil(){}LeafletDrawUtil.deepLiteralCopy=function(dest,src){var toReturn=dest;if(null!=src){for(var k in src){if(src.hasOwnProperty(k)){if(typeof src[k]==="string"||src[k]instanceof String){toReturn[k]=src[k]}else{this.deepLiteralCopy(toReturn[k],src[k])}}}}return toReturn};return LeafletDrawUtil}();var LeafletDrawDirective=function(){function LeafletDrawDirective(leafletDirective,zone){this.zone=zone;this.drawOptions=null;this.drawLocal=null;this.drawReady=new core.EventEmitter;this.onDrawCreated=new core.EventEmitter;this.onDrawEdited=new core.EventEmitter;this.onDrawDeleted=new core.EventEmitter;this.onDrawStart=new core.EventEmitter;this.onDrawStop=new core.EventEmitter;this.onDrawVertex=new core.EventEmitter;this.onDrawEditStart=new core.EventEmitter;this.onDrawEditMove=new core.EventEmitter;this.onDrawEditResize=new core.EventEmitter;this.onDrawEditVertex=new core.EventEmitter;this.onDrawEditStop=new core.EventEmitter;this.onDrawDeleteStart=new core.EventEmitter;this.onDrawDeleteStop=new core.EventEmitter;this.onDrawToolbarOpened=new core.EventEmitter;this.onDrawToolbarClosed=new core.EventEmitter;this.onDrawMarkerContext=new core.EventEmitter;this.leafletDirective=new ngxLeaflet.LeafletDirectiveWrapper(leafletDirective)}LeafletDrawDirective.prototype.ngOnInit=function(){var _this=this;this.leafletDirective.init();if(null!=this.drawLocal){LeafletDrawUtil.deepLiteralCopy(leaflet.drawLocal,this.drawLocal)}this.drawControl=new leaflet.Control.Draw(this.drawOptions);this.leafletDirective.getMap().addControl(this.drawControl);var map=this.leafletDirective.getMap();map.on(leaflet.Draw.Event.CREATED,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawCreated,e)});map.on(leaflet.Draw.Event.EDITED,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawEdited,e)});map.on(leaflet.Draw.Event.DELETED,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawDeleted,e)});map.on(leaflet.Draw.Event.DRAWSTART,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawStart,e)});map.on(leaflet.Draw.Event.DRAWSTOP,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawStop,e)});map.on(leaflet.Draw.Event.EDITSTART,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawEditStart,e)});map.on(leaflet.Draw.Event.EDITMOVE,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawEditMove,e)});map.on(leaflet.Draw.Event.EDITRESIZE,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawEditResize,e)});map.on(leaflet.Draw.Event.EDITVERTEX,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawEditVertex,e)});map.on(leaflet.Draw.Event.EDITSTOP,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawEditStop,e)});map.on(leaflet.Draw.Event.DELETESTART,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawDeleteStart,e)});map.on(leaflet.Draw.Event.DELETESTOP,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawDeleteStop,e)});map.on(leaflet.Draw.Event.TOOLBAROPENED,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawToolbarOpened,e)});map.on(leaflet.Draw.Event.TOOLBARCLOSED,function(e){return ngxLeaflet.LeafletUtil.handleEvent(_this.zone,_this.onDrawToolbarClosed,e)});this.drawReady.emit(this.drawControl)};LeafletDrawDirective.prototype.ngOnDestroy=function(){this.leafletDirective.getMap().removeControl(this.drawControl)};LeafletDrawDirective.prototype.getDrawControl=function(){return this.drawControl};LeafletDrawDirective.decorators=[{type:core.Directive,args:[{selector:"[leafletDraw]"}]}];LeafletDrawDirective.ctorParameters=function(){return[{type:ngxLeaflet.LeafletDirective},{type:core.NgZone}]};LeafletDrawDirective.propDecorators={drawOptions:[{type:core.Input,args:["leafletDrawOptions"]}],drawLocal:[{type:core.Input,args:["leafletDrawLocal"]}],drawReady:[{type:core.Output,args:["leafletDrawReady"]}],onDrawCreated:[{type:core.Output,args:["leafletDrawCreated"]}],onDrawEdited:[{type:core.Output,args:["leafletDrawEdited"]}],onDrawDeleted:[{type:core.Output,args:["leafletDrawDeleted"]}],onDrawStart:[{type:core.Output,args:["leafletDrawStart"]}],onDrawStop:[{type:core.Output,args:["leafletDrawStop"]}],onDrawVertex:[{type:core.Output,args:["leafletDrawVertex"]}],onDrawEditStart:[{type:core.Output,args:["leafletDrawEditStart"]}],onDrawEditMove:[{type:core.Output,args:["leafletDrawEditMove"]}],onDrawEditResize:[{type:core.Output,args:["leafletDrawEditResize"]}],onDrawEditVertex:[{type:core.Output,args:["leafletDrawEditVertex"]}],onDrawEditStop:[{type:core.Output,args:["leafletDrawEditStop"]}],onDrawDeleteStart:[{type:core.Output,args:["leafletDrawDeleteStart"]}],onDrawDeleteStop:[{type:core.Output,args:["leafletDrawDeleteStop"]}],onDrawToolbarOpened:[{type:core.Output,args:["leafletDrawToolbarOpened"]}],onDrawToolbarClosed:[{type:core.Output,args:["leafletDrawToolbarClosed"]}],onDrawMarkerContext:[{type:core.Output,args:["leafletDrawMarkerContext"]}]};return LeafletDrawDirective}();var LeafletDrawModule=function(){function LeafletDrawModule(){}LeafletDrawModule.decorators=[{type:core.NgModule,args:[{imports:[ngxLeaflet.LeafletModule],exports:[LeafletDrawDirective],declarations:[LeafletDrawDirective]}]}];return LeafletDrawModule}();exports.LeafletDrawDirective=LeafletDrawDirective;exports.LeafletDrawModule=LeafletDrawModule;Object.defineProperty(exports,"__esModule",{value:true})});